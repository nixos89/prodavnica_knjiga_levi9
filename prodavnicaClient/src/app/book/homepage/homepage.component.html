<!-- Page Content -->
<div class="container at-da-top">
  <h1 class="my-4 title-at-da-centre">Levi9 Bookstore</h1>
  <div class="row" id="row1">
    <div class="col-lg-3">
      <!-- <aside class="sidebar"> -->
      <h3><i>Categories</i></h3>
      <!-- <div class="pre-scrollable"> -->
      <nav>
        <select name="selectCategories" multiple class="cat-mult-select">
          <option value="All">
            <!-- routerLink umesto value-->
            All
          </option>
          <!-- *ngFor="let category of categoryData.categories" -->
          <option
            value="{{ category.name }}"
            *ngFor="let category of categoryData.categories"
          >
            {{ category.name }}
          </option>
        </select>
      </nav>
      <nav>
        <select name="selectCategories" multiple class="cat-mult-select">
          <option value="All" selected>
            <!-- routerLink umesto value-->
            All
          </option>
          <!-- *ngFor="let category of categoryData.categories" -->
          <option
            value="{{ category.categoryId }}"
            [ngValue]="category"
            *ngFor="let category of categoryData.categories"
            (click)="getAllBooksFromCategories(category.categoryId)"
          >
            {{ category.name }}
          </option>
        </select>
      </nav>
      <!-- </div> -->
      <!-- </aside> -->
    </div>
    <!-- /.col-lg-3 -->

    <div class="col-lg-9">
      <div class="row">
        <!-- START::Card-->
        <div
          class="col-lg-3 col-md-6 mb-4"
          *ngFor="let book of bookData.books; let i = index"
        >
          <div class="card h-50">
            <div class="card-body">
              <h4 class="card-title">
                {{ book.name }}
                <small
                  ><a routerLink="admin/update-book/{{ book.bookId }}"
                    ><span class="glyphicon glyphicon-cog"></span></a
                ></small>
              </h4>
              <h5>Price: {{ book.price }} $</h5>
              <div *ngIf="book.authors.length > 1">
                <p>Authors:</p>
                <ul *ngFor="let author of book.authors">
                  <p>{{ author.firstName }} {{ author.lastName }}</p>
                </ul>
              </div>
              <div *ngIf="book.authors.length == 1">
                <p>
                  Author: {{ book.authors[0].firstName }}
                  {{ book.authors[0].lastName }}
                </p>
              </div>

              <div *ngIf="book.categories.length > 1">
                <p>Categories:</p>
                <ul *ngFor="let category of book.categories">
                  <p>{{ category.name }}</p>
                </ul>
              </div>
              <div *ngIf="book.categories.length === 1">
                <p>Category: {{ book.categories[0].name }}</p>
              </div>
              <div *ngIf="activeAddToCart.includes(book.bookId)">
                <button
                  type="button"
                  class="btn btn-primary btn-sm"
                  (click)="onAddToCart(book)"
                >
                  Add to cart
                </button>
              </div>
            </div>
          </div>
        </div>
        <!-- END::Card-->
      </div>
      <!-- /.row -->
    </div>
    <!-- /.col-lg-9 -->
  </div>
  <!-- /.row -->
</div>
<!-- /.container -->
